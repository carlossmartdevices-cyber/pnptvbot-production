name: PNPtv Bot with Fabrica MCP
version: 1.0.0
schema: v1

# Define which models can be used
# https://docs.continue.dev/customization/models
models:
  # Primary AI model for code generation
  - name: Claude Haiku
    provider: anthropic
    model: claude-3-5-haiku-20241022
    apiKey: ${ANTHROPIC_API_KEY}

  # Alternative: Mistral for faster responses
  - name: Codestral
    provider: mistral
    model: codestral-latest
    apiKey: ${MISTRAL_API_KEY}

  # Optional: Local Ollama model
  - uses: ollama/qwen2.5-coder-7b

# MCP Servers that Continue can access
# https://docs.continue.dev/customization/mcp-tools
mcpServers:
  # Fabrica de Bots - Custom MCP Server for Bot Development
  - command: node
    args:
      - "../fabrica-de-bots/dist/index.js"
    env:
      FABRICA_DE_BOTS_PATH: "../fabrica-de-bots"
      BOT_TOKEN: ${BOT_TOKEN}
      ANTHROPIC_API_KEY: ${ANTHROPIC_API_KEY}
      LOG_LEVEL: "info"
      ENABLE_CACHE: "true"
    # Server startup options
    timeout: 30000
    # Automatically restart if it crashes
    autoRestart: true

  # Anthropic Memory MCP for persistent conversation context
  - uses: anthropic/memory-mcp

  # Optional: GitHub MCP for repository integration
  # Uncomment if you have GITHUB_PERSONAL_ACCESS_TOKEN set
  # - uses: github/github-mcp-server
  #   with:
  #     GITHUB_PERSONAL_ACCESS_TOKEN: ${GITHUB_PERSONAL_ACCESS_TOKEN}

# Context window settings
contextLength:
  maxChars: 50000
  strategy: recent  # Keep most recent context

# Disable cache by default in development (can be slow)
disableCache: false

# Custom rules for code generation
customCommands:
  - name: "generate-handler"
    description: "Generate a new Telegram bot handler"
    prompt: "Generate a complete Telegram handler for: {input}"

  - name: "fix-errors"
    description: "Fix all errors in the current repository"
    prompt: "Analyze and fix all errors in the codebase: {input}"

  - name: "add-tests"
    description: "Generate comprehensive tests"
    prompt: "Generate unit and integration tests for: {input}"

  - name: "security-audit"
    description: "Perform security audit"
    prompt: "Perform a comprehensive security audit of the code and provide fixes for: {input}"

# Keyboard shortcuts for common actions
shortcuts:
  - key: "ctrl+alt+g"
    command: "continue.focusContinueInput"

# Tab autocomplete settings
tabAutocompleteModel:
  provider: anthropic
  model: claude-3-5-haiku-20241022
  apiKey: ${ANTHROPIC_API_KEY}

# Code quality settings
codeQuality:
  enableLinting: true
  enableTypeChecking: true
  enableSecurityChecks: true

# Logging configuration
logging:
  level: info
  file: logs/continue.log
  maxSize: 10485760  # 10MB
  maxBackups: 5
