# =========================================
# PNPTV Bot - Environment Configuration
# =========================================
# This is a populated template with all configuration options.
# Copy this to .env and replace placeholder values with real credentials.

# =========================================
# Bot Configuration
# =========================================
BOT_TOKEN=your_telegram_bot_token_here
BOT_USERNAME=PNPtvBot
BOT_WEBHOOK_DOMAIN=https://easybots.store
BOT_WEBHOOK_PATH=/webhook/telegram
EPAYCO_WEBHOOK_PATH=/api/webhooks/epayco
DAIMO_WEBHOOK_PATH=/api/webhooks/daimo

# =========================================
# Environment
# =========================================
NODE_ENV=production
PORT=3000

# =========================================
# Firebase Configuration
# =========================================
# CRITICAL: These are required for the bot to function
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY=your_firebase_private_key_here
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
FIREBASE_DATABASE_URL=your_firebase_database_url

# =========================================
# PostgreSQL Configuration (Docker optimized)
# =========================================
# For Docker: Use 'postgres' as host (service name in docker-compose.yml)
# For local development: Use 'localhost'
DB_HOST=postgres
DB_PORT=5432
DB_NAME=pnptv_bot
DB_USER=pnptv_user
DB_PASSWORD=your_database_password

# Database connection pool settings
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# =========================================
# Redis Configuration (Docker optimized)
# =========================================
# For Docker: Use 'redis' as host (service name in docker-compose.yml)
# For local development: Use 'localhost'
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=300

# =========================================
# Sentry Configuration (Error Monitoring)
# =========================================
# Optional but recommended for production error tracking
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=production

# =========================================
# Payment Providers - ePayco (PRODUCTION MODE)
# =========================================
EPAYCO_PUBLIC_KEY=your_epayco_public_key
EPAYCO_PRIVATE_KEY=your_epayco_private_key
EPAYCO_P_CUST_ID=your_epayco_customer_id
EPAYCO_TEST_MODE=false

# =========================================
# Payment Providers - Daimo (PRODUCTION MODE)
# =========================================
DAIMO_API_KEY=your_daimo_api_key
DAIMO_WEBHOOK_SECRET=your_daimo_webhook_secret

# =========================================
# Mistral AI Configuration (Customer Support)
# =========================================
MISTRAL_API_KEY=tu_api_key              # Requerido
MISTRAL_AGENT_ID=agent_id               # Opcional - usa Agents API si estÃ¡ configurado
MISTRAL_MODEL=mistral-small-latest      # Opcional - por defecto: mistral-small-latest
MISTRAL_MAX_TOKENS=500

# =========================================
# Zoom Configuration (Optional)
# =========================================
# Configure only if you're using Zoom integration
ZOOM_API_KEY=
ZOOM_API_SECRET=
ZOOM_SDK_KEY=
ZOOM_SDK_SECRET=

# =========================================
# Agora Configuration (Optional - for live streaming)
# =========================================
AGORA_APP_ID=
AGORA_APP_CERTIFICATE=

# =========================================
# Radio Streaming (Optional)
# =========================================
RADIO_STREAM_URL=https://pnp.app/radio/stream
RADIO_API_URL=https://pnp.app/api/radio

# =========================================
# Admin Users (Telegram user IDs)
# =========================================
# Comma-separated list of Telegram user IDs with admin privileges
ADMIN_USER_IDS=8365312597

# =========================================
# Security - Generated unique secrets
# =========================================
# IMPORTANT: Generate strong random secrets for production
# Use: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_here
ENCRYPTION_KEY=your_encryption_key_here

# =========================================
# Rate Limiting
# =========================================
# Window in milliseconds (60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000
# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=30

# =========================================
# Session Configuration
# =========================================
# Session TTL in seconds (86400 = 24 hours)
SESSION_TTL=86400

# =========================================
# File Upload
# =========================================
# Maximum file size in bytes (10485760 = 10MB)
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# =========================================
# Geolocation (Optional)
# =========================================
GEOCODER_PROVIDER=google
GEOCODER_API_KEY=

# =========================================
# QUICK START GUIDE
# =========================================
# 1. Copy this file to .env:
#    cp .env.populated .env
#
# 2. Replace all placeholder values with real credentials:
#    - BOT_TOKEN: Get from @BotFather on Telegram
#    - FIREBASE_*: From Firebase Console > Project Settings > Service Accounts
#    - DB_PASSWORD: Create a strong password for PostgreSQL
#    - JWT_SECRET & ENCRYPTION_KEY: Generate with: openssl rand -base64 32
#    - Payment provider keys: From ePayco and Daimo dashboards
#
# 3. For Docker deployment, ensure these hosts are set correctly:
#    - DB_HOST=postgres
#    - REDIS_HOST=redis
#
# 4. For local development, change to:
#    - DB_HOST=localhost
#    - REDIS_HOST=localhost
#
# 5. Start the application:
#    ./deploy.sh
